<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Budget Tracker</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/static/js/base.js"> </script>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <link rel="stylesheet" href="static/base.css">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>

<body>
    <div class="left-sidebar">
        <h4 class="text-center">Budget </h4>
        <a href="{{ url_for('index') }}">ğŸ  Home</a>
        <a href="{{ url_for('show_expenses') }}">ğŸ’¸ Expenses</a>
        <a href="{{ url_for('show_reports') }}">ğŸ“Š Reports</a>
        <a href="{{ url_for('settings') }}">ğŸ”§ Settings</a>
        <button id="darkModeToggle" class="btn btn-secondary mt-3">ğŸ’¡</button>
        <a href="{{ url_for('logout') }}" class="btn btn-danger w-100 mt-3">Logout</a>
    </div>

    <div class="content">
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-12">
                    {% block content %}{% endblock %}
                </div>
            </div>
        </div>
    </div>
    <div class="right-sidebar">
        <div class="profile">
            <div class="profile-pic"></div>
            <span>Fayyad Rahman</span>
        </div>
        <section class="transactions">
            <h3>Recent Transactions</h3>
            <div class="container my-4">
                <ul class="transaction-list">
                    {% if expenses|length > 0 %}
                    <li class="transaction-item">
                        {% set category_icons = {
                            "Food": "ğŸ”",
                            "Transportation": "ğŸš—",
                            "Entertainment": "ğŸ±",
                            "Shopping": "ğŸ›’",
                            "Gifts": "ğŸ",
                            "Utilities": "ğŸ§°",
                            "Other": "âš¡ï¸"
                        } %}
                        <span class="icon">
                            {{ category_icons[expenses.0.Category] if expenses.0.Category in category_icons else "âš¡ï¸" }}
                        </span>
                        <span class="title">{{ expenses.0.Title }}</span>
                        <span class="date">{{ expenses.0.Date }}</span>
                        <span class="amount">
                            {% if expenses.0.Amount < 0 %}
                                - AED{{ expenses.0.Amount|abs }}
                            {% else %}
                                AED{{ expenses.0.Amount }}
                            {% endif %}
                        </span>
                    </li>
                    {% else %}
                    <li class="transaction-item">
                        <span class="icon">âš¡ï¸</span>
                        <span>No recent transactions available</span>
                    </li>
                    {% endif %}
                </ul>
            </div>
        </section>
    </div>
    

</body>

</html>